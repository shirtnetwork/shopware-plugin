"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[55619],{156:e=>{var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==s},s="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o(Array.isArray(e)?[]:{},e,t):e}function r(e,t,s){return e.concat(t).map(function(e){return i(e,s)})}function n(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function a(e,t){try{return t in e}catch(e){return!1}}function o(e,s,c){(c=c||{}).arrayMerge=c.arrayMerge||r,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=i;var l,h,u=Array.isArray(s);return u!==Array.isArray(e)?i(s,c):u?c.arrayMerge(e,s,c):(h={},(l=c).isMergeableObject(e)&&n(e).forEach(function(t){h[t]=i(e[t],l)}),n(s).forEach(function(t){(!a(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(a(e,t)&&l.isMergeableObject(s[t])?h[t]=(function(e,t){if(!t.customMerge)return o;var s=t.customMerge(e);return"function"==typeof s?s:o})(t,l)(e[t],s[t],l):h[t]=i(s[t],l))}),h)}o.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,s){return o(e,s,t)},{})},e.exports=o},619:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var i=s(737);class r{static isTouchDevice(){return"ontouchstart"in document.documentElement}static isIOSDevice(){return r.isIPhoneDevice()||r.isIPadDevice()}static isNativeWindowsBrowser(){return r.isIEBrowser()||r.isEdgeBrowser()}static isIPhoneDevice(){return!!navigator.userAgent.match(/iPhone/i)}static isIPadDevice(){return!!navigator.userAgent.match(/iPad/i)}static isIEBrowser(){return -1!==navigator.userAgent.toLowerCase().indexOf("msie")||!!navigator.userAgent.match(/Trident.*rv:\d+\./)}static isEdgeBrowser(){return!!navigator.userAgent.match(/Edge\/\d+/i)}static getList(){return{"is-touch":r.isTouchDevice(),"is-ios":r.isIOSDevice(),"is-native-windows":r.isNativeWindowsBrowser(),"is-iphone":r.isIPhoneDevice(),"is-ipad":r.isIPadDevice(),"is-ie":r.isIEBrowser(),"is-edge":r.isEdgeBrowser()}}}let n="modal-backdrop",a="modal-backdrop-open",o="no-scroll",c={ON_CLICK:"backdrop/onclick"};class l{constructor(){return l.instance||(l.instance=this),l.instance}create(e){this._removeExistingBackdrops(),document.body.insertAdjacentHTML("beforeend",this._getTemplate());let t=document.body.lastChild;document.documentElement.classList.add(o),setTimeout(function(){t.classList.add(a),"function"==typeof e&&e()},75),this._dispatchEvents()}remove(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:350;this._getBackdrops().forEach(e=>e.classList.remove(a)),setTimeout(this._removeExistingBackdrops.bind(this),e),document.documentElement.classList.remove(o)}_dispatchEvents(){let e=r.isTouchDevice()?"touchstart":"click";document.addEventListener(e,function(e){e.target.classList.contains(n)&&document.dispatchEvent(new CustomEvent(c.ON_CLICK))})}_getBackdrops(){return document.querySelectorAll(`.${n}`)}_removeExistingBackdrops(){!1!==this._exists()&&this._getBackdrops().forEach(e=>e.remove())}_exists(){return document.querySelectorAll(`.${n}`).length>0}_getTemplate(){return`<div class="${n}"></div>`}}let h=Object.freeze(new l);class u{static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;h.create(e)}static remove(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:350;h.remove(e)}static SELECTOR_CLASS(){return n}}let d="js-pseudo-modal",p="js-pseudo-modal-template-root-element";class m{constructor(e,t=!0,s=".js-pseudo-modal-template",i=".js-pseudo-modal-template-content-element",r=".js-pseudo-modal-template-title-element"){this._content=e,this._useBackdrop=t,this._templateSelector=s,this._templateContentSelector=i,this._templateTitleSelector=r}open(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350;this._hideExistingModal(),this._create(),setTimeout(this._open.bind(this,e),t)}close(){let e=this.getModal();this._modalInstance=bootstrap.Modal.getInstance(e),this._modalInstance.hide()}getModal(){return this._modal||this._create(),this._modal}updatePosition(){this._modalInstance.handleUpdate()}updateContent(e,t){this._content=e,this._setModalContent(e),this.updatePosition(),"function"==typeof t&&t.bind(this)()}_hideExistingModal(){try{let e=document.querySelector(`.${d} .modal`);if(!e)return;let t=bootstrap.Modal.getInstance(e);if(!t)return;t.hide()}catch(e){console.warn(`[PseudoModalUtil] Unable to hide existing pseudo modal before opening pseudo modal: ${e.message}`)}}_open(e){this.getModal(),this._modal.addEventListener("hidden.bs.modal",this._modalWrapper.remove),this._modal.addEventListener("shown.bs.modal",e),this._modal.addEventListener("hide.bs.modal",()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()}),this._modalInstance.show()}_create(){this._modalMarkupEl=document.querySelector(this._templateSelector),this._createModalWrapper(),this._modalWrapper.innerHTML=this._content,this._modal=this._createModalMarkup(),this._modalInstance=new bootstrap.Modal(this._modal,{backdrop:this._useBackdrop}),document.body.insertAdjacentElement("beforeend",this._modalWrapper)}_createModalWrapper(){this._modalWrapper=document.querySelector(`.${d}`),this._modalWrapper||(this._modalWrapper=document.createElement("div"),this._modalWrapper.classList.add(d))}_createModalMarkup(){let e=this._modalWrapper.querySelector(".modal");if(e)return e;let t=this._modalWrapper.innerHTML;return this._modalWrapper.innerHTML=this._modalMarkupEl.innerHTML,this._setModalContent(t),this._modalWrapper.querySelector(".modal")}_setModalTitle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{this._modalWrapper.querySelector(this._templateTitleSelector).innerHTML=e}catch(e){}}_setModalContent(e){let t=this._modalWrapper.querySelector(this._templateContentSelector);t.innerHTML=e;let s=t.querySelector(`.${p}`);if(s){this._modalWrapper.querySelector(`.${p}`).replaceChildren(s);return}try{let e=t.querySelector(this._templateTitleSelector);e&&(this._setModalTitle(e.innerHTML),e.parentNode.removeChild(e))}catch(e){}}}var g=s(68);let _="loader",v={BEFORE:"before",INNER:"inner"};class f{constructor(e,t=v.BEFORE){this.parent=e instanceof Element?e:document.body.querySelector(e),this.position=t}create(){if(!this.exists()){if(this.position===v.INNER){this.parent.innerHTML=f.getTemplate();return}this.parent.insertAdjacentHTML(this._getPosition(),f.getTemplate())}}remove(){this.parent.querySelectorAll(`.${_}`).forEach(e=>e.remove())}exists(){return this.parent.querySelectorAll(`.${_}`).length>0}_getPosition(){return this.position===v.BEFORE?"afterbegin":"beforeend"}static getTemplate(){return`<div class="${_}" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>`}static SELECTOR_CLASS(){return _}}let b=Object.freeze(new class extends f{constructor(){super(document.body)}create(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];!this.exists()&&e&&(u.create(),document.querySelector(`.${u.SELECTOR_CLASS()}`).insertAdjacentHTML("beforeend",f.getTemplate()))}remove(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];super.remove(),e&&u.remove()}});class y{static create(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];b.create(e)}static remove(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];b.remove(e)}}class S{constructor(e){this.client=new g.A;let t=this.client._createPreparedRequest.bind(this.client);this.client._createPreparedRequest=function(s,i,r){let n=t(s,i,r);return n.setRequestHeader("sw-access-key",e),n}}async post(e,t){return await this.toPromise(this.client.post(e,t,this.callback))}async get(e){return this.toPromise(this.client.get(e,this.callback))}toPromise(e){return new Promise(function(t,s){e.onreadystatechange=function(){4===e.readyState&&(e.status>=200&&e.status<300?t(e.responseText):s({status:e.status,statusText:e.statusText}))}})}callback(){}}let E=e=>new Promise((t,s)=>{let i=document.createElement("script");i.src=e,i.async=!0,i.onerror=s,i.onload=i.onreadystatechange=function(){let e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,t())},document.head.appendChild(i)});class w extends i.A{static #e=this.options={version:"1.6.4"};init(){y.create(),this._httpClient=new g.A,this.client=new S(this.options.swAccessKey),this.cartItems=[],this.cache={},this.stockCache={},this.baseSkuScheme=this.options.baseSkuScheme||"{PRODUCT_SKU}",this.skuScheme=this.options.skuScheme||"{PRODUCT_SKU}-{VARIANT_SKU}-{SIZE_SKU}",this.pages=this.options.pages||{},E("//cdn.shirtnetwork.de/client/shirtnetwork-client.js").then(()=>this.boot())}async boot(){let e=function e(t,s){if(null==t)return s;for(var i in s)s[i].constructor===Object?t[i]=e(t[i],s[i]):void 0===t[i]&&(t[i]=s[i]);return t}(this.options,{settings:{container:this.el.id,shop:{cart:{link:"/checkout/cart",data:{},handler:this.getCheckoutData.bind(this),addItem:this.addItemToCart.bind(this),submit:this.submitCart.bind(this),init:()=>{},showAfterSalesModal:!1},infos:{handler:this.getShopInfos.bind(this)},stock:{handler:this.getStockInfos.bind(this)}}}}),t=this.instance=await ShirtnetworkClient.init(e);this.options.translations&&t.$store.dispatch("setTranslation",{lang:this.options.language.split("-")[0].toLowerCase(),translation:this.options.translations}),t.$store.dispatch("setLanguage",this.options.language),t.$store.dispatch("observe",{event:"navigate",callback:this.navigate.bind(this)}),setTimeout(()=>y.remove(),1500)}async addItemToCart(e,t,s){this.cartItems.push({type:"product",referencedId:s.oxid,quantity:Number.parseInt(s.amount),payload:{shirtnetwork:e}})}async getShopInfos(e){return await this.getProduct(e)}async getStockInfos(e){let t=this.resolveBaseSku(e.psku,e.vsku,e.ssku);if(this.stockCache[t])return this.stockCache[t]??[];if(t){let e=JSON.parse(await this.client.get("/shirtnetwork/designer-stock-infos/"+t));return this.stockCache[t]=e,e??[]}return[]}async getCheckoutData(e){let t;let s=await this.getProduct(e);if(e.sskus)for(let s of(t=[],e.sskus)){let i=await this.getProduct(Object.assign({},e,{ssku:s.sku}));i&&t.push({oxid:i.id,id:i.id,amount:s.amount,size:s.size})}return{aid:s?s.id:void 0,sizes:t.length?t:void 0}}async getProduct(e){let t=this.resolveSku(e.psku,e.vsku,e.ssku);if(!t)return{};{if(this.cache[t])return this.cache[t];let s=JSON.parse(await this.client.post("/store-api/product",JSON.stringify({filter:[{type:"equals",field:"productNumber",value:this.resolveSku(e.psku,e.vsku,e.ssku)}]}),!0));return console.log("after getProduct",s),this.cache[t]=s.elements&&s.elements.length?s.elements[0]:{},this.cache[t]}}async submitCart(){let e=await this.client.post("/shirtnetwork/add-to-cart",JSON.stringify({lineItems:this.cartItems}));return this.cartItems=[],this.instance.$store.dispatch("setIsNavigatingToCart",!0),this.openOffCanvas(),e}navigate(e){this.pages[e]&&(y.create(),this._httpClient.get(this.pages[e],e=>{y.remove(),new m(e).open()}))}openOffCanvas(){for(let e of window.PluginManager.getPluginInstances("OffCanvasCart"))e.openOffCanvas(window.router["frontend.cart.offcanvas"],!1)}resolveSku(e,t,s){return this.resolveByScheme(e,t,s,this.skuScheme)}resolveBaseSku(e,t,s){return this.resolveByScheme(e,t,s,this.baseSkuScheme)}resolveByScheme(e,t,s,i){return -1===i.indexOf("${")?i.replace("{PRODUCT_SKU}",e).replace("{VARIANT_SKU}",t).replace("{SIZE_SKU}",s):Function(`const product = "${e}"; const variant = "${t}"; const size = "${s}"; return \`${new String(i)}\`;`)()}}},707:(e,t,s)=>{s.d(t,{A:()=>i});class i{static ucFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}static lcFirst(e){return e.charAt(0).toLowerCase()+e.slice(1)}static toDashCase(e){return e.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}static toLowerCamelCase(e,t){let s=i.toUpperCamelCase(e,t);return i.lcFirst(s)}static toUpperCamelCase(e,t){return t?e.split(t).map(e=>i.ucFirst(e.toLowerCase())).join(""):i.ucFirst(e.toLowerCase())}static parsePrimitive(e){try{return/^\d+(.|,)\d+$/.test(e)&&(e=e.replace(",",".")),JSON.parse(e)}catch(t){return e.toString()}}}},737:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(156),r=s.n(i),n=s(707);class a{constructor(e=document){this._el=e,e.$emitter=this,this._listeners=[]}publish(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new CustomEvent(e,{detail:t,cancelable:s});return this.el.dispatchEvent(i),i}subscribe(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this,r=e.split("."),n=s.scope?t.bind(s.scope):t;if(s.once&&!0===s.once){let t=n;n=function(s){i.unsubscribe(e),t(s)}}return this.el.addEventListener(r[0],n),this.listeners.push({splitEventName:r,opts:s,cb:n}),!0}unsubscribe(e){let t=e.split(".");return this.listeners=this.listeners.reduce((e,s)=>([...s.splitEventName].sort().toString()===t.sort().toString()?this.el.removeEventListener(s.splitEventName[0],s.cb):e.push(s),e),[]),!0}reset(){return this.listeners.forEach(e=>{this.el.removeEventListener(e.splitEventName[0],e.cb)}),this.listeners=[],!0}get el(){return this._el}set el(e){this._el=e}get listeners(){return this._listeners}set listeners(e){this._listeners=e}}class o{constructor(e,t={},s=!1){if(!(e instanceof Node))throw Error("There is no valid element given.");this.el=e,this.$emitter=new a(this.el),this._pluginName=this._getPluginName(s),this.options=this._mergeOptions(t),this._initialized=!1,this._registerInstance(),this._init()}init(){throw Error(`The "init" method for the plugin "${this._pluginName}" is not defined.`)}update(){}_init(){this._initialized||(this.init(),this._initialized=!0)}_update(){this._initialized&&this.update()}_mergeOptions(e){if("function"!=typeof this.el.getAttribute)return;let t=n.A.toDashCase(this._pluginName),s=this.el.getAttribute(`data-${t}-config`),i=this.el.getAttribute(`data-${t}-options`),a=[this.constructor.options,this.options,e];s&&a.push(window.PluginConfigManager.get(this._pluginName,s));try{i&&a.push(JSON.parse(i))}catch(e){throw console.error(this.el),Error(`The data attribute "data-${t}-options" could not be parsed to json: ${e.message}`)}return r().all(a.filter(e=>e instanceof Object&&!(e instanceof Array)).map(e=>e||{}))}_registerInstance(){window.PluginManager.getPluginInstancesFromElement(this.el).set(this._pluginName,this),window.PluginManager.getPlugin(this._pluginName,!1).get("instances").push(this)}_getPluginName(e){return e||(e=this.constructor.name),e}}},68:(e,t,s)=>{s.d(t,{A:()=>i});class i{constructor(){this._request=null,this._errorHandlingInternal=!1}get(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json",i=this._createPreparedRequest("GET",e,s);return this._sendRequest(i,null,t)}post(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";i=this._getContentType(t,i);let r=this._createPreparedRequest("POST",e,i);return this._sendRequest(r,t,s)}delete(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";i=this._getContentType(t,i);let r=this._createPreparedRequest("DELETE",e,i);return this._sendRequest(r,t,s)}patch(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";i=this._getContentType(t,i);let r=this._createPreparedRequest("PATCH",e,i);return this._sendRequest(r,t,s)}abort(){if(this._request)return this._request.abort()}setErrorHandlingInternal(e){this._errorHandlingInternal=e}_registerOnLoaded(e,t){t&&(!0===this._errorHandlingInternal?(e.addEventListener("load",()=>{t(e.responseText,e)}),e.addEventListener("abort",()=>{console.warn(`the request to ${e.responseURL} was aborted`)}),e.addEventListener("error",()=>{console.warn(`the request to ${e.responseURL} failed with status ${e.status}`)}),e.addEventListener("timeout",()=>{console.warn(`the request to ${e.responseURL} timed out`)})):e.addEventListener("loadend",()=>{t(e.responseText,e)}))}_sendRequest(e,t,s){return this._registerOnLoaded(e,s),e.send(t),e}_getContentType(e,t){return e instanceof FormData&&(t=!1),t}_createPreparedRequest(e,t,s){return this._request=new XMLHttpRequest,this._request.open(e,t),this._request.setRequestHeader("X-Requested-With","XMLHttpRequest"),s&&this._request.setRequestHeader("Content-type",s),this._request}}}}]);