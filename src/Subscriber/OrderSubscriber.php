<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-07-30 10:43:05              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $BOLRY, EntityRepository $Q3DuZ) { $this->apiClient = $BOLRY; $this->orderRepository = $Q3DuZ; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\156\117\x72\144\145\162\120\x6c\141\143\145\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $c_0Zv) { goto twnej; fNNec: if (!($qUGCT > 0 || $ZnGa_ > 0)) { goto qvm2g; } goto lgWem; FfV31: $qUGCT = 0; goto e02He; iG51H: $this->orderRepository->delete([["\x69\x64" => $dbViJ->getId()]]); goto Zflit; JzPy2: u8mjD: goto fNNec; CjWOV: goto F1Zuv; goto Ct6OE; lgWem: $zD1Z_ = $this->apiClient->bookCoins($dbViJ->getSalesChannelId(), $qUGCT, $dbViJ->getOrderNumber(), 0, $ZnGa_); goto sZ9kR; U7Txu: $this->apiClient->manifestOrder($dbViJ->getSalesChannelId(), $dbViJ); goto CjWOV; Zflit: throw new \Exception("\x53\110\111\x52\x54\116\105\124\x57\x4f\122\113\137\x43\101\x4e\116\x4f\x54\x5f\117\122\104\105\122"); goto WIQAw; qUJ6b: $FN4RD = $dbViJ->getLineItems(); goto FfV31; sZ9kR: if (trim($zD1Z_) != '' && trim($zD1Z_) != "\x4f\x4b") { goto PLw2y; } goto U7Txu; XYR0H: foreach ($FN4RD as $P6Pud) { goto HtH5f; HtH5f: $P39eW = $P6Pud->getPayload(); goto mrOaJ; t2jj3: $ZnGa_ += $PdfIQ->getUnitPrice() / 10 * $PdfIQ->getQuantity(); goto l1uoB; SXaHa: SwrCc: goto JEnJL; mrOaJ: if (!isset($P39eW["\163\x68\151\x72\x74\156\145\164\167\157\162\x6b"])) { goto SwrCc; } goto Jj6Kg; GdW5x: $qUGCT += $PdfIQ->getQuantity(); goto xnnFJ; xnnFJ: OG801: goto SXaHa; X7Bjn: if ($PdfIQ->getUnitPrice() >= 10) { goto o_ixn; } goto t2jj3; QWbGu: o_ixn: goto GdW5x; JEnJL: kPKLd: goto BaBuP; Jj6Kg: $PdfIQ = $P6Pud->getPrice(); goto X7Bjn; l1uoB: goto OG801; goto QWbGu; BaBuP: } goto JzPy2; Ct6OE: PLw2y: goto iG51H; VQGPM: qvm2g: goto xHT3d; twnej: $dbViJ = $c_0Zv->getOrder(); goto qUJ6b; WIQAw: F1Zuv: goto VQGPM; e02He: $ZnGa_ = 0; goto XYR0H; xHT3d: } }