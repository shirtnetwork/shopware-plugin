<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-02-20 12:19:25              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepositoryInterface; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $J5J2z, EntityRepositoryInterface $xQoa0) { $this->apiClient = $J5J2z; $this->orderRepository = $xQoa0; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\x6e\117\x72\x64\145\x72\x50\x6c\x61\x63\x65\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $I7OFs) { goto cYlNR; cYlNR: $Kmd6e = $I7OFs->getOrder(); goto Wk9dH; gymia: if (trim($z2W2U) != '' && trim($z2W2U) != "\117\x4b") { goto Z1ddj; } goto LXz2g; erSSn: Z1ddj: goto GuqKd; LXz2g: $this->apiClient->manifestOrder($Kmd6e->getSalesChannelId(), $Kmd6e); goto PZ7Lp; nMctQ: YcxO4: goto Eiw59; GuqKd: $this->orderRepository->delete([["\151\x64" => $Kmd6e->getId()]]); goto MQnbk; Q2EjB: TX1h7: goto cjWJz; PZ7Lp: goto stp_5; goto erSSn; EzxiH: $z2W2U = $this->apiClient->bookCoins($Kmd6e->getSalesChannelId(), $XJ4L7, $Kmd6e->getOrderNumber(), 0, $Mv1kF); goto gymia; Wroe7: stp_5: goto Q2EjB; Eiw59: if (!($XJ4L7 > 0 || $Mv1kF > 0)) { goto TX1h7; } goto EzxiH; MQnbk: throw new \Exception("\x53\x48\x49\x52\124\x4e\105\x54\127\117\122\x4b\137\103\x41\x4e\116\117\124\137\x4f\122\104\x45\122"); goto Wroe7; whxJA: $Mv1kF = 0; goto WYUm3; WYUm3: foreach ($N1L_V as $KGC25) { goto yNhv7; odEvp: gxWk8: goto s7rRg; iP06A: if (!isset($r5xLF["\x73\150\151\x72\164\156\x65\164\167\157\162\153"])) { goto ctntq; } goto qBN6_; h9qIJ: goto gxWk8; goto bsyCz; qBN6_: $OpEZW = $KGC25->getPrice(); goto QBfmY; UK2YB: K0xkx: goto ERBcY; QBfmY: if ($OpEZW->getUnitPrice() >= 10) { goto J_oGb; } goto MKl54; MKl54: $Mv1kF = $OpEZW->getUnitPrice() / 10 * $OpEZW->getQuantity(); goto h9qIJ; s7rRg: ctntq: goto UK2YB; yNhv7: $r5xLF = $KGC25->getPayload(); goto iP06A; PpzaN: $XJ4L7 += $OpEZW->getQuantity(); goto odEvp; bsyCz: J_oGb: goto PpzaN; ERBcY: } goto nMctQ; Jqwek: $XJ4L7 = 0; goto whxJA; Wk9dH: $N1L_V = $Kmd6e->getLineItems(); goto Jqwek; cjWJz: } }