<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-08-01 10:21:12              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $pBjZ0, EntityRepository $YQMYK) { $this->apiClient = $pBjZ0; $this->orderRepository = $YQMYK; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\156\x4f\x72\x64\x65\x72\120\x6c\x61\x63\x65\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $O9GF3) { goto xRMlk; b4zKu: $this->orderRepository->delete([["\151\144" => $rflUL->getId()]]); goto F0ye7; LtYHr: ZxF8u: goto fn1BO; YrzGf: $l7j7O = 0; goto jzKiA; mxa25: if (trim($X1PLD) != '' && trim($X1PLD) != "\x4f\113") { goto j_UdI; } goto tIWcP; jzKiA: foreach ($AWTnc as $zJbbr) { goto boYZd; J3Keb: p2zC4: goto oNkh8; k6cum: BdblK: goto S1M3d; xU0mB: if (!isset($yOAt8["\163\x68\x69\x72\164\x6e\x65\164\167\x6f\162\x6b"])) { goto JNUnh; } goto mRJuh; Bo88C: PUhiY: goto zrhtH; GrWoS: $l7j7O = $hnpGD->getUnitPrice() / 10 * $hnpGD->getQuantity(); goto kpt7N; kpt7N: goto p2zC4; goto k6cum; H_DI8: if ($hnpGD->getUnitPrice() >= 10) { goto BdblK; } goto GrWoS; oNkh8: JNUnh: goto Bo88C; mRJuh: $hnpGD = $zJbbr->getPrice(); goto H_DI8; boYZd: $yOAt8 = $zJbbr->getPayload(); goto xU0mB; S1M3d: $xhsec += $hnpGD->getQuantity(); goto J3Keb; zrhtH: } goto nUvB1; e10eP: $AWTnc = $rflUL->getLineItems(); goto Et3os; F0ye7: throw new \Exception("\x53\x48\x49\122\124\x4e\x45\x54\127\117\x52\x4b\137\x43\x41\116\x4e\x4f\x54\x5f\117\x52\x44\105\x52"); goto LtYHr; wqAHx: $X1PLD = $this->apiClient->bookCoins($rflUL->getSalesChannelId(), $xhsec, $rflUL->getOrderNumber(), 0, $l7j7O); goto mxa25; Et3os: $xhsec = 0; goto YrzGf; GhMd3: j_UdI: goto b4zKu; xRMlk: $rflUL = $O9GF3->getOrder(); goto e10eP; yMqJS: if (!($xhsec > 0 || $l7j7O > 0)) { goto EWuF1; } goto wqAHx; nUvB1: NH_6W: goto yMqJS; tIWcP: $this->apiClient->manifestOrder($rflUL->getSalesChannelId(), $rflUL); goto MgFlZ; fn1BO: EWuF1: goto BOUZL; MgFlZ: goto ZxF8u; goto GhMd3; BOUZL: } }