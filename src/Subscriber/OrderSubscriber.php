<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-07-29 10:45:01              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $J98H3, EntityRepository $IqY_y) { $this->apiClient = $J98H3; $this->orderRepository = $IqY_y; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\x6e\117\x72\144\145\x72\120\154\141\x63\x65\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $TuhAd) { goto ROgLp; LC7_u: throw new \Exception("\123\110\111\122\x54\116\x45\x54\127\117\122\113\137\x43\x41\116\x4e\x4f\x54\137\117\122\x44\x45\122"); goto u3zm6; qUyf0: foreach ($iSAv3 as $t_ZEL) { goto RgLGi; asgEW: if ($yOk4V->getUnitPrice() >= 10) { goto SKg3D; } goto Kd_5O; MhHW0: jF9Q1: goto S293i; C7QMR: RNV1o: goto MhHW0; vfBNl: SKg3D: goto gcwcZ; Kd_5O: $VyV_o = $yOk4V->getUnitPrice() / 10 * $yOk4V->getQuantity(); goto p1QoE; Zzd_h: if (!isset($aEhic["\163\150\151\162\164\156\145\x74\167\x6f\162\x6b"])) { goto RNV1o; } goto tE67N; tE67N: $yOk4V = $t_ZEL->getPrice(); goto asgEW; uLBVT: fROnp: goto C7QMR; RgLGi: $aEhic = $t_ZEL->getPayload(); goto Zzd_h; p1QoE: goto fROnp; goto vfBNl; gcwcZ: $Wyh3_ += $yOk4V->getQuantity(); goto uLBVT; S293i: } goto vlctP; YguhM: $Wyh3_ = 0; goto DkWKI; ROgLp: $HJ4vs = $TuhAd->getOrder(); goto M6pEC; fxlJb: if (trim($marOK) != '' && trim($marOK) != "\117\113") { goto KtSz_; } goto LjD9l; M6pEC: $iSAv3 = $HJ4vs->getLineItems(); goto YguhM; b1UhT: if (!($Wyh3_ > 0 || $VyV_o > 0)) { goto um3sa; } goto g5W2z; u3zm6: S96_S: goto V3IaM; V3IaM: um3sa: goto Q6vEw; LjD9l: $this->apiClient->manifestOrder($HJ4vs->getSalesChannelId(), $HJ4vs); goto Zn_rW; vlctP: tbp9f: goto b1UhT; Zn_rW: goto S96_S; goto yIAzL; g5W2z: $marOK = $this->apiClient->bookCoins($HJ4vs->getSalesChannelId(), $Wyh3_, $HJ4vs->getOrderNumber(), 0, $VyV_o); goto fxlJb; DkWKI: $VyV_o = 0; goto qUyf0; yIAzL: KtSz_: goto DJlLW; DJlLW: $this->orderRepository->delete([["\x69\x64" => $HJ4vs->getId()]]); goto LC7_u; Q6vEw: } }