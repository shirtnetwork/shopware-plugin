<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-02-20 15:16:59              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $AyT94, EntityRepository $uN1bm) { $this->apiClient = $AyT94; $this->orderRepository = $uN1bm; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\156\117\162\x64\x65\162\x50\154\141\x63\x65\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $WvXPB) { goto sLRCm; KBDrN: $OLmLK = $this->apiClient->bookCoins($tIabA->getSalesChannelId(), $jmABf, $tIabA->getOrderNumber(), 0, $Sb7Od); goto dZ_kr; PCWfN: throw new \Exception("\123\x48\x49\122\124\116\x45\x54\127\x4f\122\x4b\137\103\101\x4e\116\x4f\124\137\x4f\122\x44\105\x52"); goto wQXgH; H_2tG: if (!($jmABf > 0 || $Sb7Od > 0)) { goto axWNS; } goto KBDrN; dZ_kr: if (trim($OLmLK) != '' && trim($OLmLK) != "\117\113") { goto glP8L; } goto q5YOf; q5YOf: $this->apiClient->manifestOrder($tIabA->getSalesChannelId(), $tIabA); goto RvwAo; O4evo: foreach ($Bevl_ as $R1E4a) { goto oj20N; oj20N: $Y4mO6 = $R1E4a->getPayload(); goto o2oM8; aWE1S: $E5h0l = $R1E4a->getPrice(); goto jMXmI; ApiEW: goto vwoLl; goto ag72f; ZXpN6: qo1KM: goto WChFE; GmaEH: FE907: goto ZXpN6; jMXmI: if ($E5h0l->getUnitPrice() >= 10) { goto zFu8j; } goto hN8yk; RH8K9: $jmABf += $E5h0l->getQuantity(); goto CwHht; ag72f: zFu8j: goto RH8K9; o2oM8: if (!isset($Y4mO6["\163\150\x69\x72\x74\x6e\x65\x74\x77\157\x72\x6b"])) { goto FE907; } goto aWE1S; hN8yk: $Sb7Od = $E5h0l->getUnitPrice() / 10 * $E5h0l->getQuantity(); goto ApiEW; CwHht: vwoLl: goto GmaEH; WChFE: } goto MfMs0; uEwB8: $this->orderRepository->delete([["\151\x64" => $tIabA->getId()]]); goto PCWfN; pKNXa: $Sb7Od = 0; goto O4evo; fu6c2: glP8L: goto uEwB8; JX1xq: axWNS: goto fS6ff; sLRCm: $tIabA = $WvXPB->getOrder(); goto F2_gt; F2_gt: $Bevl_ = $tIabA->getLineItems(); goto lHIfK; lHIfK: $jmABf = 0; goto pKNXa; wQXgH: jBL69: goto JX1xq; MfMs0: C6OIU: goto H_2tG; RvwAo: goto jBL69; goto fu6c2; fS6ff: } }