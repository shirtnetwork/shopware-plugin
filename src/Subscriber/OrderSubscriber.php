<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2025-01-20 10:33:41              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $Ryfge, EntityRepository $F90hN) { $this->apiClient = $Ryfge; $this->orderRepository = $F90hN; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\156\x4f\162\144\x65\x72\x50\154\x61\143\x65\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $DhWUk) { goto HwE1l; OxbBz: $this->apiClient->manifestOrder($zIl6B->getSalesChannelId(), $zIl6B); goto f_fUH; E4uJF: $bAOlp = 0; goto vSl1O; vleac: ZOPD8: goto UY12M; Pau3z: sAzEv: goto vleac; P21vo: if (!($eEF00 > 0 || $bAOlp > 0)) { goto ZOPD8; } goto GEgNV; GEgNV: $nlRLr = $this->apiClient->bookCoins($zIl6B->getSalesChannelId(), $eEF00, $zIl6B->getOrderNumber(), 0, $bAOlp); goto v63Zc; HwE1l: $zIl6B = $DhWUk->getOrder(); goto B0k3r; UY7jS: throw new \Exception("\123\110\x49\x52\124\116\105\x54\127\x4f\x52\113\x5f\103\x41\x4e\x4e\117\x54\x5f\x4f\x52\104\105\x52"); goto Pau3z; hvw_B: $eEF00 = 0; goto E4uJF; f_fUH: goto sAzEv; goto O3MJv; R24pW: kH2TD: goto P21vo; v63Zc: if (trim($nlRLr) != '' && trim($nlRLr) != "\117\x4b") { goto FHESP; } goto OxbBz; B0k3r: $tMhAc = $zIl6B->getLineItems(); goto hvw_B; O3MJv: FHESP: goto ohKcm; ohKcm: $this->orderRepository->delete([["\x69\x64" => $zIl6B->getId()]], $DhWUk->getContext()); goto UY7jS; vSl1O: foreach ($tMhAc as $f2ZI5) { goto fvs4A; OJW2C: $eEF00 += $E_vyT->getQuantity(); goto Mvz0b; Mvz0b: uwdzB: goto S7hEe; UmyMI: E1F6E: goto ZY0um; H0XT4: $E_vyT = $f2ZI5->getPrice(); goto kf2PG; gomv_: $bAOlp = $E_vyT->getUnitPrice() / 10 * $E_vyT->getQuantity(); goto Ncu8R; S7hEe: asNi3: goto UmyMI; Ncu8R: goto uwdzB; goto AYxwt; fvs4A: $h09ro = $f2ZI5->getPayload(); goto BVYdf; kf2PG: if ($E_vyT->getUnitPrice() >= 10) { goto X0L38; } goto gomv_; BVYdf: if (!isset($h09ro["\163\x68\x69\162\x74\x6e\145\164\x77\x6f\162\153"])) { goto asNi3; } goto H0XT4; AYxwt: X0L38: goto OJW2C; ZY0um: } goto R24pW; UY12M: } }