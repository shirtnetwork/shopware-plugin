<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-08-16 08:48:56              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $MB4Yb, EntityRepository $cGWu4) { $this->apiClient = $MB4Yb; $this->orderRepository = $cGWu4; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\x6e\117\x72\144\145\x72\x50\154\x61\143\x65\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $YEjYh) { goto pbb3b; WgeB1: $ganK8 = $this->apiClient->bookCoins($AC8RH->getSalesChannelId(), $cfpzB, $AC8RH->getOrderNumber(), 0, $stC6r); goto V8q_5; SIcaN: $cfpzB = 0; goto uT0xp; uT0xp: $stC6r = 0; goto E1B0S; gaqbc: if (!($cfpzB > 0 || $stC6r > 0)) { goto rjOu0; } goto WgeB1; dGr6A: throw new \Exception("\123\x48\x49\122\124\x4e\x45\x54\127\117\x52\x4b\137\103\101\x4e\x4e\117\124\137\x4f\x52\x44\105\122"); goto b7v_4; V8q_5: if (trim($ganK8) != '' && trim($ganK8) != "\x4f\113") { goto moZXr; } goto J5fz4; L9bOR: goto j_izI; goto D0pQ0; b7v_4: j_izI: goto DOJma; yoLS0: MPQpI: goto gaqbc; J5fz4: $this->apiClient->manifestOrder($AC8RH->getSalesChannelId(), $AC8RH); goto L9bOR; js6a2: $BYQ9S = $AC8RH->getLineItems(); goto SIcaN; pbb3b: $AC8RH = $YEjYh->getOrder(); goto js6a2; E1B0S: foreach ($BYQ9S as $w8sIR) { goto RlzIg; fJRBe: emGy0: goto KN6WM; dQG7h: if ($VrKI8->getUnitPrice() >= 10) { goto emGy0; } goto X4WyC; t4NJj: KXtk7: goto XB0Kl; tUbQy: goto nVT3T; goto fJRBe; X4WyC: $stC6r = $VrKI8->getUnitPrice() / 10 * $VrKI8->getQuantity(); goto tUbQy; YeR2w: $VrKI8 = $w8sIR->getPrice(); goto dQG7h; AjZAs: DEIxr: goto t4NJj; zxY74: if (!isset($fbvpE["\163\150\x69\162\x74\x6e\x65\x74\x77\157\x72\153"])) { goto DEIxr; } goto YeR2w; RlzIg: $fbvpE = $w8sIR->getPayload(); goto zxY74; KN6WM: $cfpzB += $VrKI8->getQuantity(); goto AugyH; AugyH: nVT3T: goto AjZAs; XB0Kl: } goto yoLS0; D0pQ0: moZXr: goto p2qX1; p2qX1: $this->orderRepository->delete([["\x69\x64" => $AC8RH->getId()]]); goto dGr6A; DOJma: rjOu0: goto CWu4H; CWu4H: } }