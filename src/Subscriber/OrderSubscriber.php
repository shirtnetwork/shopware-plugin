<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-07-10 09:21:57              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepositoryInterface; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $pl17k, EntityRepositoryInterface $tnXjr) { $this->apiClient = $pl17k; $this->orderRepository = $tnXjr; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\x6e\117\162\144\x65\x72\x50\x6c\141\143\x65\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $pGrnx) { goto cX0_k; otkdq: $GCcvv = $this->apiClient->bookCoins($dw_r1->getSalesChannelId(), $e11YM, $dw_r1->getOrderNumber(), 0, $FFx9V); goto M42UP; nF2hS: BDWIa: goto U2TIg; IIfnx: QQtvK: goto wF5ZT; mcXLl: $FFx9V = 0; goto U_TIS; wF5ZT: Zw_BZ: goto shTNJ; ZcJXh: if (!($e11YM > 0 || $FFx9V > 0)) { goto Zw_BZ; } goto otkdq; txzzC: $P_31K = $dw_r1->getLineItems(); goto bDsd0; M42UP: if (trim($GCcvv) != '' && trim($GCcvv) != "\117\x4b") { goto BDWIa; } goto K8aPr; K8aPr: $this->apiClient->manifestOrder($dw_r1->getSalesChannelId(), $dw_r1); goto Z_J1x; U_TIS: foreach ($P_31K as $UN_eM) { goto voi3g; H312a: goto d14ZF; goto HfXmZ; kIlRL: $kpyyR = $UN_eM->getPrice(); goto q0N1G; GB2x9: $e11YM += $kpyyR->getQuantity(); goto tIZaN; Q0YN3: if (!isset($NYLeA["\x73\150\151\162\x74\x6e\145\164\167\157\162\x6b"])) { goto fCod7; } goto kIlRL; IOKBb: IsCn9: goto AuDAk; GasWM: fCod7: goto IOKBb; EQzBv: $FFx9V = $kpyyR->getUnitPrice() / 10 * $kpyyR->getQuantity(); goto H312a; HfXmZ: FannO: goto GB2x9; q0N1G: if ($kpyyR->getUnitPrice() >= 10) { goto FannO; } goto EQzBv; tIZaN: d14ZF: goto GasWM; voi3g: $NYLeA = $UN_eM->getPayload(); goto Q0YN3; AuDAk: } goto oaIGy; U2TIg: $this->orderRepository->delete([["\x69\144" => $dw_r1->getId()]]); goto BcaE4; Z_J1x: goto QQtvK; goto nF2hS; bDsd0: $e11YM = 0; goto mcXLl; cX0_k: $dw_r1 = $pGrnx->getOrder(); goto txzzC; BcaE4: throw new \Exception("\123\x48\x49\x52\x54\116\105\x54\x57\117\122\113\137\x43\x41\116\x4e\x4f\124\x5f\x4f\x52\104\105\x52"); goto IIfnx; oaIGy: ZSSDj: goto ZcJXh; shTNJ: } }