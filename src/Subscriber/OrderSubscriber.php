<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-09-22 08:27:26              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $Di9Fn, EntityRepository $gMAFx) { $this->apiClient = $Di9Fn; $this->orderRepository = $gMAFx; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\x6e\117\x72\144\145\162\120\154\x61\143\145\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $QYLrw) { goto HGZrr; f0B4u: $this->apiClient->manifestOrder($shEV9->getSalesChannelId(), $shEV9); goto clzXO; Gm5nK: v2kAF: goto avW3w; k5tCn: throw new \Exception("\123\x48\x49\122\x54\x4e\x45\124\x57\117\122\113\137\103\101\x4e\x4e\117\x54\x5f\117\x52\x44\x45\122"); goto XWgEy; NL4ON: foreach ($fcPRI as $Bx2QY) { goto LBBya; HaUzk: $yBKv1 = $Bx2QY->getPrice(); goto x_AQQ; WaAAI: er1bH: goto Dk2HL; P3qwF: goto DpuBj; goto WaAAI; Dk2HL: $IM5Rz += $yBKv1->getQuantity(); goto j3iJ7; qQZp8: $Z5GPS = $yBKv1->getUnitPrice() / 10 * $yBKv1->getQuantity(); goto P3qwF; j3iJ7: DpuBj: goto ultvm; QogMj: hY22z: goto umny0; LBBya: $TgW8H = $Bx2QY->getPayload(); goto AnHL8; ultvm: izz1T: goto QogMj; x_AQQ: if ($yBKv1->getUnitPrice() >= 10) { goto er1bH; } goto qQZp8; AnHL8: if (!isset($TgW8H["\163\x68\x69\x72\164\x6e\x65\164\x77\x6f\x72\x6b"])) { goto izz1T; } goto HaUzk; umny0: } goto Gm5nK; e6Bzw: $fcPRI = $shEV9->getLineItems(); goto h2iSk; clzXO: goto AJvrl; goto bSz_5; bSz_5: yEHdr: goto piQX2; avW3w: if (!($IM5Rz > 0 || $Z5GPS > 0)) { goto mg4An; } goto ZrMGj; IC118: $Z5GPS = 0; goto NL4ON; ZrMGj: $l3nDx = $this->apiClient->bookCoins($shEV9->getSalesChannelId(), $IM5Rz, $shEV9->getOrderNumber(), 0, $Z5GPS); goto Hr5tW; HGZrr: $shEV9 = $QYLrw->getOrder(); goto e6Bzw; piQX2: $this->orderRepository->delete([["\151\x64" => $shEV9->getId()]]); goto k5tCn; XagFh: mg4An: goto EIQfX; Hr5tW: if (trim($l3nDx) != '' && trim($l3nDx) != "\117\x4b") { goto yEHdr; } goto f0B4u; XWgEy: AJvrl: goto XagFh; h2iSk: $IM5Rz = 0; goto IC118; EIQfX: } }