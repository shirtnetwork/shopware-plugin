<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.17  |
    |              on 2026-01-27 09:37:43              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $Sl2qU, EntityRepository $MCSPq) { $this->apiClient = $Sl2qU; $this->orderRepository = $MCSPq; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\x6e\x4f\162\x64\x65\162\120\154\141\x63\x65\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $wg1fR) { goto Yj28L; lGLHC: $GFsM7 = $vtgLW->getLineItems(); goto kUyae; MJ0GA: goto DVvpB; goto mnr7g; s0IMf: throw new \Exception("\x53\110\x49\x52\124\x4e\105\124\x57\x4f\x52\x4b\x5f\x43\101\x4e\x4e\117\x54\137\x4f\122\104\x45\x52"); goto u_k5K; oYtBS: $w9zcS = $this->apiClient->bookCoins($vtgLW->getSalesChannelId(), $YJ7B6, $vtgLW->getOrderNumber(), 0, $JHrLn); goto Hg8Zx; FLVzC: $JHrLn = 0; goto Rc2A7; mP7lj: $this->apiClient->manifestOrder($vtgLW->getSalesChannelId(), $vtgLW); goto MJ0GA; Yj28L: $vtgLW = $wg1fR->getOrder(); goto lGLHC; cY3X0: $this->orderRepository->delete([["\x69\x64" => $vtgLW->getId()]], $wg1fR->getContext()); goto s0IMf; StuBE: PvlWs: goto fKNpQ; rBKr6: pxBvL: goto TazJu; fKNpQ: if (!($YJ7B6 > 0 || $JHrLn > 0)) { goto pxBvL; } goto oYtBS; kUyae: $YJ7B6 = 0; goto FLVzC; Rc2A7: foreach ($GFsM7 as $sKOSC) { goto Y2EFQ; lXNUI: if ($HOyov->getUnitPrice() >= 10) { goto zqxvK; } goto uihzA; mNE20: $HOyov = $sKOSC->getPrice(); goto R1RA6; KerXf: v_FF6: goto VtiP2; uihzA: $JHrLn += $HOyov->getUnitPrice() / 10 * $Io_aH; goto CtlPf; R1RA6: $iWVde = $uDg8h["\163\150\x69\162\164\x6e\x65\164\x77\157\x72\153\x63\x6f\156\146\x69\147"]; goto wdQ11; zost0: KG8UR: goto lXNUI; aXllm: $Io_aH = $HOyov->getQuantity(); goto h1UVo; CtlPf: goto v_FF6; goto pOLd7; KGFW9: $YJ7B6 += $Io_aH; goto KerXf; Y2EFQ: $uDg8h = $sKOSC->getPayload(); goto BV7VE; Wh3Fc: $Io_aH = $Io_aH / $hxUKH->packageUnit; goto zost0; h1UVo: if (!($hxUKH && $hxUKH->packageUnit > 0)) { goto KG8UR; } goto Wh3Fc; wdQ11: $hxUKH = isset($iWVde["\160\x72\x6f\144\x75\x63\x74"]) ? $this->apiClient->getProductById($wg1fR->getSalesChannelId(), $iWVde["\160\x72\157\x64\165\x63\164"]) : null; goto aXllm; BV7VE: if (!isset($uDg8h["\163\150\151\x72\x74\156\x65\164\x77\x6f\x72\153"])) { goto A0jOi; } goto mNE20; bg7ed: NeTYC: goto omLYq; pOLd7: zqxvK: goto KGFW9; VtiP2: A0jOi: goto bg7ed; omLYq: } goto StuBE; Hg8Zx: if (trim($w9zcS) != '' && trim($w9zcS) != "\117\113") { goto VmP3U; } goto CCWwm; mnr7g: VmP3U: goto cY3X0; CCWwm: $this->orderRepository->update([["\151\144" => $vtgLW->getId(), "\x63\165\x73\164\157\155\x46\151\145\154\144\x73" => ["\163\x68\151\162\x74\x6e\145\x74\x77\x6f\162\x6b" => ["\x71\x75\x61\156\x74\x69\x74\171" => $YJ7B6, "\x73\165\x6d" => $JHrLn]]]], $wg1fR->getContext()); goto mP7lj; u_k5K: DVvpB: goto rBKr6; TazJu: } }