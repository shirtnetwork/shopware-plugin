<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-06-16 11:54:16              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepositoryInterface; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $m6owF, EntityRepositoryInterface $UJx06) { $this->apiClient = $m6owF; $this->orderRepository = $UJx06; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\156\x4f\162\x64\x65\162\120\x6c\x61\143\x65\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $CTe3f) { goto x5Tz9; SrsMS: $qHqec = 0; goto P1Pnx; x5Tz9: $UEJJ2 = $CTe3f->getOrder(); goto Cv1OX; TbB39: $this->orderRepository->delete([["\x69\x64" => $UEJJ2->getId()]]); goto oSnBd; yNMOS: if (trim($qS1D5) != '' && trim($qS1D5) != "\117\113") { goto QkE45; } goto csD8M; EGLo1: if (!($qHqec > 0 || $iv2TV > 0)) { goto nRm5e; } goto Mp6_A; RWwUI: goto njd35; goto Q9fpN; Q9fpN: QkE45: goto TbB39; XmeBR: nRm5e: goto a1ogw; Mp6_A: $qS1D5 = $this->apiClient->bookCoins($UEJJ2->getSalesChannelId(), $qHqec, $UEJJ2->getOrderNumber(), 0, $iv2TV); goto yNMOS; hVC4I: foreach ($wyJ07 as $Y5fol) { goto IlJC0; CymGr: $iv2TV = $Hotm3->getUnitPrice() / 10 * $Hotm3->getQuantity(); goto pCdAc; agdZ4: if (!isset($FUzMN["\163\x68\151\162\164\x6e\145\x74\x77\x6f\x72\x6b"])) { goto dJmT_; } goto Lyw2n; JlM9c: dJmT_: goto ei1f_; IlJC0: $FUzMN = $Y5fol->getPayload(); goto agdZ4; Lyw2n: $Hotm3 = $Y5fol->getPrice(); goto dS5T_; aqg3Y: $qHqec += $Hotm3->getQuantity(); goto ZVBsa; pCdAc: goto IY46y; goto GPREY; GPREY: ETeEK: goto aqg3Y; dS5T_: if ($Hotm3->getUnitPrice() >= 10) { goto ETeEK; } goto CymGr; ZVBsa: IY46y: goto JlM9c; ei1f_: WFKDr: goto xNtju; xNtju: } goto Qbo9y; csD8M: $this->apiClient->manifestOrder($UEJJ2->getSalesChannelId(), $UEJJ2); goto RWwUI; Qbo9y: cQtoT: goto EGLo1; P1Pnx: $iv2TV = 0; goto hVC4I; oSnBd: throw new \Exception("\123\x48\x49\122\124\x4e\x45\124\127\x4f\x52\113\137\103\x41\116\x4e\x4f\124\x5f\x4f\x52\104\105\x52"); goto lWQPb; lWQPb: njd35: goto XmeBR; Cv1OX: $wyJ07 = $UEJJ2->getLineItems(); goto SrsMS; a1ogw: } }