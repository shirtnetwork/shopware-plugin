<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-05-15 07:46:55              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $VKDtQ, EntityRepository $mkvdf) { $this->apiClient = $VKDtQ; $this->orderRepository = $mkvdf; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\x6e\x4f\162\144\x65\x72\120\x6c\141\x63\x65\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $ESdNe) { goto K5Cy3; jA9Gp: cj5NG: goto IJBBy; jCPUa: if (trim($MO2pG) != '' && trim($MO2pG) != "\x4f\x4b") { goto cj5NG; } goto n3jei; RQEys: Zq2cG: goto w0mpR; pTbQe: Iv9_d: goto OxeXm; QEY3G: goto Zq2cG; goto jA9Gp; ZniQW: foreach ($dmEL3 as $v6_Rq) { goto yAbJQ; iYfiC: $Pff1M = $v6_Rq->getPrice(); goto F5A5B; L1Zi1: if (!isset($szD7b["\x73\150\x69\x72\x74\156\x65\164\167\x6f\162\x6b"])) { goto CGw_o; } goto iYfiC; DzaZU: nTu9l: goto jf97H; YYKO4: qnWlC: goto A2yqk; A2yqk: CGw_o: goto RiGvM; v2LKU: $jRub0 = $Pff1M->getUnitPrice() / 10 * $Pff1M->getQuantity(); goto Q4g60; yAbJQ: $szD7b = $v6_Rq->getPayload(); goto L1Zi1; RiGvM: XxguK: goto kj5N0; jf97H: $e21Fq += $Pff1M->getQuantity(); goto YYKO4; F5A5B: if ($Pff1M->getUnitPrice() >= 10) { goto nTu9l; } goto v2LKU; Q4g60: goto qnWlC; goto DzaZU; kj5N0: } goto pTbQe; IJBBy: $this->orderRepository->delete([["\151\x64" => $WUh01->getId()]], $ESdNe->getContext()); goto xaeah; Lpplr: $MO2pG = $this->apiClient->bookCoins($WUh01->getSalesChannelId(), $e21Fq, $WUh01->getOrderNumber(), 0, $jRub0); goto jCPUa; bFQPE: $e21Fq = 0; goto aZ0DL; aZ0DL: $jRub0 = 0; goto ZniQW; K5Cy3: $WUh01 = $ESdNe->getOrder(); goto ravdo; OxeXm: if (!($e21Fq > 0 || $jRub0 > 0)) { goto IFnO2; } goto Lpplr; n3jei: $this->apiClient->manifestOrder($WUh01->getSalesChannelId(), $WUh01); goto QEY3G; xaeah: throw new \Exception("\x53\110\111\122\124\x4e\105\x54\x57\117\122\113\x5f\x43\101\x4e\x4e\x4f\124\x5f\x4f\122\104\x45\x52"); goto RQEys; w0mpR: IFnO2: goto cG00w; ravdo: $dmEL3 = $WUh01->getLineItems(); goto bFQPE; cG00w: } }