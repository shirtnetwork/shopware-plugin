<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-04-10 08:34:14              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $BX6Yb, EntityRepository $z7llR) { $this->apiClient = $BX6Yb; $this->orderRepository = $z7llR; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\156\117\x72\144\145\162\x50\154\x61\143\x65\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $C0K6e) { goto MiXeN; l6tBt: $kiJI9 = $fzWIQ->getLineItems(); goto HV4CZ; HV4CZ: $hBq15 = 0; goto r12W5; d1LSE: if (!($hBq15 > 0 || $cquRW > 0)) { goto ezqmI; } goto DRtJ3; BEJ9W: $this->apiClient->manifestOrder($fzWIQ->getSalesChannelId(), $fzWIQ); goto hSzxW; hAjyc: $this->orderRepository->delete([["\151\144" => $fzWIQ->getId()]]); goto miaJo; tCR8t: gkYfx: goto d1LSE; MiXeN: $fzWIQ = $C0K6e->getOrder(); goto l6tBt; r12W5: $cquRW = 0; goto fyY3S; B4zUY: ezqmI: goto Dx4g6; oQt8a: fT8Kc: goto B4zUY; eDnpi: if (trim($CbIo2) != '' && trim($CbIo2) != "\x4f\x4b") { goto jRnNN; } goto BEJ9W; fyY3S: foreach ($kiJI9 as $BU7YF) { goto t4ajG; Z9t0O: if ($FDBpL->getUnitPrice() >= 10) { goto lBEwm; } goto Htxoz; sV6sE: nNxvP: goto OT8yB; awb28: $FDBpL = $BU7YF->getPrice(); goto Z9t0O; N3MLx: $hBq15 += $FDBpL->getQuantity(); goto WrOvG; JuatP: YNJW1: goto sV6sE; WrOvG: Qdd9X: goto JuatP; oROfJ: if (!isset($S_Thp["\163\150\151\162\x74\156\145\x74\x77\x6f\x72\153"])) { goto YNJW1; } goto awb28; Cysix: goto Qdd9X; goto RpKkp; RpKkp: lBEwm: goto N3MLx; t4ajG: $S_Thp = $BU7YF->getPayload(); goto oROfJ; Htxoz: $cquRW = $FDBpL->getUnitPrice() / 10 * $FDBpL->getQuantity(); goto Cysix; OT8yB: } goto tCR8t; DRtJ3: $CbIo2 = $this->apiClient->bookCoins($fzWIQ->getSalesChannelId(), $hBq15, $fzWIQ->getOrderNumber(), 0, $cquRW); goto eDnpi; miaJo: throw new \Exception("\123\110\x49\x52\124\116\x45\x54\127\117\x52\x4b\137\103\101\116\x4e\x4f\124\137\x4f\x52\104\105\x52"); goto oQt8a; hSzxW: goto fT8Kc; goto byiYa; byiYa: jRnNN: goto hAjyc; Dx4g6: } }