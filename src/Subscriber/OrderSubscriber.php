<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-02-22 08:24:17              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepositoryInterface; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $uqMPR, EntityRepositoryInterface $rJMdF) { $this->apiClient = $uqMPR; $this->orderRepository = $rJMdF; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\x6e\117\x72\144\x65\x72\x50\154\141\x63\145\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $nBuCw) { goto zn_co; C5yM3: Q3W97: goto aOaUG; YC8qZ: $this->apiClient->manifestOrder($VSmAM->getSalesChannelId(), $VSmAM); goto PoIiN; Ua64l: $gIYmq = $this->apiClient->bookCoins($VSmAM->getSalesChannelId(), $uQe06, $VSmAM->getOrderNumber(), 0, $llOxo); goto AMBH3; c20Xg: foreach ($gos9e as $JBbJp) { goto xasb8; qSvFf: if (!isset($QCEqO["\163\150\x69\x72\x74\156\145\164\167\x6f\x72\x6b"])) { goto LDa9U; } goto sOn05; SEs5W: LDa9U: goto hQ1zS; sOn05: $CQDFl = $JBbJp->getPrice(); goto jNTQL; Gln4A: $llOxo = $CQDFl->getUnitPrice() / 10 * $CQDFl->getQuantity(); goto sci3V; iJlTk: $uQe06 += $CQDFl->getQuantity(); goto kU6cw; jNTQL: if ($CQDFl->getUnitPrice() >= 10) { goto U0FpJ; } goto Gln4A; hQ1zS: Vzpsp: goto CfPJX; xasb8: $QCEqO = $JBbJp->getPayload(); goto qSvFf; sci3V: goto CeBvk; goto TWHK6; TWHK6: U0FpJ: goto iJlTk; kU6cw: CeBvk: goto SEs5W; CfPJX: } goto Gd1NK; jwD7a: throw new \Exception("\x53\110\111\x52\x54\116\105\x54\x57\117\122\113\x5f\103\x41\x4e\116\x4f\124\137\117\122\x44\x45\122"); goto C5yM3; LE2Rv: $uQe06 = 0; goto Dtbb3; I84DJ: $gos9e = $VSmAM->getLineItems(); goto LE2Rv; aOaUG: y1ZSI: goto qBpz_; PoIiN: goto Q3W97; goto KEYig; Dtbb3: $llOxo = 0; goto c20Xg; IW2EQ: $this->orderRepository->delete([["\x69\x64" => $VSmAM->getId()]]); goto jwD7a; Gd1NK: XJKh8: goto hx1Ry; zn_co: $VSmAM = $nBuCw->getOrder(); goto I84DJ; KEYig: TL7_8: goto IW2EQ; AMBH3: if (trim($gIYmq) != '' && trim($gIYmq) != "\x4f\x4b") { goto TL7_8; } goto YC8qZ; hx1Ry: if (!($uQe06 > 0 || $llOxo > 0)) { goto y1ZSI; } goto Ua64l; qBpz_: } }