<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.17  |
    |              on 2026-01-27 09:38:13              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $rjBuC, EntityRepository $k3KiB) { $this->apiClient = $rjBuC; $this->orderRepository = $k3KiB; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\x6e\117\162\144\145\162\120\154\141\x63\145\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $avoGJ) { goto Ei1S0; n_KsD: if (trim($mlx88) != '' && trim($mlx88) != "\117\x4b") { goto yx3Og; } goto glEbj; yKlKC: $this->apiClient->manifestOrder($BHFAO->getSalesChannelId(), $BHFAO); goto nQXCX; nQXCX: goto lt2Yy; goto W8fTV; Qr5F1: $wZ9jA = 0; goto btcOX; zb9oL: lt2Yy: goto A8EyB; Si141: if (!($OUMgj > 0 || $wZ9jA > 0)) { goto HBBHH; } goto dwtI1; uf080: $OUMgj = 0; goto Qr5F1; Qwhqf: throw new \Exception("\x53\110\111\122\124\x4e\x45\124\x57\x4f\122\x4b\x5f\x43\101\x4e\116\117\124\x5f\117\122\x44\105\122"); goto zb9oL; Mj89S: VZyy7: goto Si141; glEbj: $this->orderRepository->update([["\x69\144" => $BHFAO->getId(), "\143\x75\163\x74\x6f\155\106\x69\x65\x6c\x64\x73" => ["\163\x68\x69\x72\164\x6e\145\x74\x77\157\162\x6b" => ["\161\165\x61\156\x74\151\x74\x79" => $OUMgj, "\x73\x75\x6d" => $wZ9jA]]]], $avoGJ->getContext()); goto yKlKC; W8fTV: yx3Og: goto mH9b0; btcOX: foreach ($Tmpb0 as $eLPoo) { goto N661h; m5NFw: zcl1y: goto aW3Jr; y05l5: if (!($kxVAX && $kxVAX->packageUnit > 0)) { goto P45wQ; } goto r1i3i; SmtJg: y2aB_: goto xIhBO; YpD8W: $kxVAX = isset($d55La["\x70\x72\157\144\x75\143\x74"]) ? $this->apiClient->getProductById($avoGJ->getSalesChannelId(), $d55La["\x70\x72\157\x64\x75\x63\164"]) : null; goto f2cvI; r1i3i: $z93Ux = $z93Ux / $kxVAX->packageUnit; goto p0Ubm; yBXBA: $IF1CC = $eLPoo->getPrice(); goto mTKfD; N661h: $HSBH9 = $eLPoo->getPayload(); goto ctd0W; p0Ubm: P45wQ: goto Pm0y7; huzo3: $wZ9jA += $IF1CC->getUnitPrice() / 10 * $z93Ux; goto O4wO2; mTKfD: $d55La = $HSBH9["\x73\x68\151\x72\164\156\x65\164\167\157\162\x6b\x63\x6f\x6e\x66\x69\x67"]; goto YpD8W; xIhBO: $OUMgj += $z93Ux; goto EXGqV; p8dH0: hGe0G: goto m5NFw; Pm0y7: if ($IF1CC->getUnitPrice() >= 10) { goto y2aB_; } goto huzo3; f2cvI: $z93Ux = $IF1CC->getQuantity(); goto y05l5; O4wO2: goto AAFEo; goto SmtJg; ctd0W: if (!isset($HSBH9["\x73\x68\x69\x72\164\156\x65\x74\167\x6f\x72\153"])) { goto hGe0G; } goto yBXBA; EXGqV: AAFEo: goto p8dH0; aW3Jr: } goto Mj89S; A8EyB: HBBHH: goto FuwR0; mH9b0: $this->orderRepository->delete([["\x69\x64" => $BHFAO->getId()]], $avoGJ->getContext()); goto Qwhqf; dwtI1: $mlx88 = $this->apiClient->bookCoins($BHFAO->getSalesChannelId(), $OUMgj, $BHFAO->getOrderNumber(), 0, $wZ9jA); goto n_KsD; Ei1S0: $BHFAO = $avoGJ->getOrder(); goto imXEB; imXEB: $Tmpb0 = $BHFAO->getLineItems(); goto uf080; FuwR0: } }