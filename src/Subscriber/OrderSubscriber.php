<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-04-25 09:39:53              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $TTKV4, EntityRepository $VBY93) { $this->apiClient = $TTKV4; $this->orderRepository = $VBY93; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\156\x4f\162\x64\x65\x72\120\x6c\x61\x63\x65\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $YRkXI) { goto jpKot; L8zYc: $this->apiClient->manifestOrder($AFnsI->getSalesChannelId(), $AFnsI); goto R9zoO; R9zoO: goto qNHdo; goto WWeo1; WWeo1: G8N10: goto H94Vs; jpKot: $AFnsI = $YRkXI->getOrder(); goto cT35n; KdMGd: F0hse: goto qFbMD; H94Vs: $this->orderRepository->delete([["\x69\144" => $AFnsI->getId()]]); goto Qifg_; sby5N: if (!($B_ALW > 0 || $AW6U6 > 0)) { goto F0hse; } goto SQkCq; J5386: if (trim($HxO9I) != '' && trim($HxO9I) != "\x4f\x4b") { goto G8N10; } goto L8zYc; cT35n: $kbhGO = $AFnsI->getLineItems(); goto aQAP3; SQkCq: $HxO9I = $this->apiClient->bookCoins($AFnsI->getSalesChannelId(), $B_ALW, $AFnsI->getOrderNumber(), 0, $AW6U6); goto J5386; Te9tl: foreach ($kbhGO as $NLHde) { goto A5p75; GsCVt: pGkqc: goto hBn6z; JQVUK: $kpt6k = $NLHde->getPrice(); goto W7knL; cVhmd: goto j2aEY; goto q1oRv; W7knL: if ($kpt6k->getUnitPrice() >= 10) { goto pjb_Y; } goto HnNuJ; hpwiX: if (!isset($s0sBM["\163\150\151\162\x74\156\x65\x74\167\x6f\162\x6b"])) { goto nHquR; } goto JQVUK; JQdOU: $B_ALW += $kpt6k->getQuantity(); goto w8Hfm; HnNuJ: $AW6U6 = $kpt6k->getUnitPrice() / 10 * $kpt6k->getQuantity(); goto cVhmd; q1oRv: pjb_Y: goto JQdOU; A5p75: $s0sBM = $NLHde->getPayload(); goto hpwiX; DHfW2: nHquR: goto GsCVt; w8Hfm: j2aEY: goto DHfW2; hBn6z: } goto yeHXU; a343Z: $AW6U6 = 0; goto Te9tl; aQAP3: $B_ALW = 0; goto a343Z; yeHXU: QZYlO: goto sby5N; DF3Cl: qNHdo: goto KdMGd; Qifg_: throw new \Exception("\x53\x48\111\x52\x54\116\x45\x54\x57\x4f\122\113\x5f\103\101\116\116\117\x54\137\117\122\x44\x45\x52"); goto DF3Cl; qFbMD: } }