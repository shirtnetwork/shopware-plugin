<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-10-23 12:17:36              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $THNAH, EntityRepository $RJHUQ) { $this->apiClient = $THNAH; $this->orderRepository = $RJHUQ; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\x6e\117\x72\144\x65\x72\120\x6c\141\x63\145\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $i0NLe) { goto mw2ly; KkIgc: LUF2j: goto mdnWf; PdorK: throw new \Exception("\123\110\x49\122\124\116\x45\124\127\117\x52\113\x5f\103\101\x4e\x4e\117\124\137\x4f\122\104\105\x52"); goto gYLzN; nOIQ7: if (trim($WVqju) != '' && trim($WVqju) != "\117\x4b") { goto iPEAh; } goto lZgC2; hb1lJ: $mJ5eG = 0; goto avoJ_; vSX7X: iPEAh: goto mkoZq; Fe_M8: $WVqju = $this->apiClient->bookCoins($WTGwE->getSalesChannelId(), $ReZvZ, $WTGwE->getOrderNumber(), 0, $mJ5eG); goto nOIQ7; X9RBo: goto pTSTx; goto vSX7X; avoJ_: foreach ($T1pW4 as $ETqpS) { goto DsVUK; pENj5: $ReZvZ += $z0ySw->getQuantity(); goto UTmNj; Z3IDN: $z0ySw = $ETqpS->getPrice(); goto zC9Z4; tGyMO: VRu9w: goto L_Qwj; EdWqU: p10gV: goto tGyMO; DsVUK: $PNsPy = $ETqpS->getPayload(); goto siaD3; kYf4A: goto Uuyxs; goto gRZMY; zC9Z4: if ($z0ySw->getUnitPrice() >= 10) { goto gKobQ; } goto trff4; trff4: $mJ5eG = $z0ySw->getUnitPrice() / 10 * $z0ySw->getQuantity(); goto kYf4A; gRZMY: gKobQ: goto pENj5; UTmNj: Uuyxs: goto EdWqU; siaD3: if (!isset($PNsPy["\163\150\151\x72\164\156\x65\x74\x77\157\x72\153"])) { goto p10gV; } goto Z3IDN; L_Qwj: } goto KkIgc; mkoZq: $this->orderRepository->delete([["\151\x64" => $WTGwE->getId()]]); goto PdorK; lZgC2: $this->apiClient->manifestOrder($WTGwE->getSalesChannelId(), $WTGwE); goto X9RBo; mdnWf: if (!($ReZvZ > 0 || $mJ5eG > 0)) { goto Y_QD3; } goto Fe_M8; mw2ly: $WTGwE = $i0NLe->getOrder(); goto R_CIo; gYLzN: pTSTx: goto S71nY; T7q5O: $ReZvZ = 0; goto hb1lJ; R_CIo: $T1pW4 = $WTGwE->getLineItems(); goto T7q5O; S71nY: Y_QD3: goto oeWkX; oeWkX: } }