<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.17  |
    |              on 2025-11-13 13:41:19              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $VXmQH, EntityRepository $oi95S) { $this->apiClient = $VXmQH; $this->orderRepository = $oi95S; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\156\x4f\162\144\145\162\x50\154\x61\143\x65\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $J2PUm) { goto tIEmU; aoYQ9: $this->apiClient->manifestOrder($iW1Nv->getSalesChannelId(), $iW1Nv); goto d4aAZ; wFMEc: ADkhS: goto iRvJI; KaeXe: hXscM: goto BxSsb; gleZL: if (trim($dWQjt) != '' && trim($dWQjt) != "\117\113") { goto kzMEl; } goto OfaFh; d4aAZ: goto ADkhS; goto FA1Zn; yyNhQ: $GH0GG = 0; goto Q8xX6; FA1Zn: kzMEl: goto X1tNw; mYmZf: throw new \Exception("\x53\x48\111\122\124\x4e\x45\124\127\117\122\113\x5f\103\101\116\x4e\x4f\124\x5f\117\x52\x44\105\122"); goto wFMEc; ebdg1: $DO_OU = 0; goto yyNhQ; tS2fz: $dWQjt = $this->apiClient->bookCoins($iW1Nv->getSalesChannelId(), $DO_OU, $iW1Nv->getOrderNumber(), 0, $GH0GG); goto gleZL; Q8xX6: foreach ($zQ19t as $rqYPi) { goto cnyXi; F1sJX: if ($ou1kT->getUnitPrice() >= 10) { goto KxA4L; } goto jWqxN; uKJBu: NAdUs: goto ljxJA; r9n6D: Ntr5V: goto F1sJX; fzRwe: avAVe: goto Y1eFQ; npAs5: $ou1kT = $rqYPi->getPrice(); goto L234H; VcN_s: $tdFjw = $ou1kT->getQuantity(); goto wfn1q; Rw9bG: $PpRxG = isset($PgEtS["\160\x72\157\144\165\143\164"]) ? $this->apiClient->getProductById($J2PUm->getSalesChannelId(), $PgEtS["\160\162\x6f\x64\x75\x63\x74"]) : null; goto VcN_s; L234H: $PgEtS = $kjIZa["\x73\150\151\x72\164\156\x65\x74\167\157\x72\153\143\x6f\x6e\x66\x69\147"]; goto Rw9bG; TZqZU: $tdFjw = $tdFjw / $PpRxG->packageUnit; goto r9n6D; wfn1q: if (!($PpRxG && $PpRxG->packageUnit > 0)) { goto Ntr5V; } goto TZqZU; jWqxN: $GH0GG += $ou1kT->getUnitPrice() / 10 * $tdFjw; goto E424D; h4aeu: if (!isset($kjIZa["\163\x68\x69\162\x74\x6e\145\164\x77\x6f\x72\x6b"])) { goto CDGRb; } goto npAs5; PoKiX: KxA4L: goto TYyrP; cnyXi: $kjIZa = $rqYPi->getPayload(); goto h4aeu; E424D: goto NAdUs; goto PoKiX; ljxJA: CDGRb: goto fzRwe; TYyrP: $DO_OU += $tdFjw; goto uKJBu; Y1eFQ: } goto KaeXe; gVwKv: $zQ19t = $iW1Nv->getLineItems(); goto ebdg1; X1tNw: $this->orderRepository->delete([["\151\x64" => $iW1Nv->getId()]], $J2PUm->getContext()); goto mYmZf; iRvJI: sCeYz: goto uPH8P; tIEmU: $iW1Nv = $J2PUm->getOrder(); goto gVwKv; OfaFh: $this->orderRepository->update([["\151\144" => $iW1Nv->getId(), "\143\x75\x73\x74\157\x6d\x46\151\x65\x6c\x64\x73" => ["\x73\150\x69\x72\x74\x6e\x65\164\167\x6f\162\x6b" => ["\161\x75\x61\x6e\164\151\x74\x79" => $DO_OU, "\163\165\x6d" => $GH0GG]]]], $J2PUm->getContext()); goto aoYQ9; BxSsb: if (!($DO_OU > 0 || $GH0GG > 0)) { goto sCeYz; } goto tS2fz; uPH8P: } }