<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-03-23 14:00:20              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepositoryInterface; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $a1Czp, EntityRepositoryInterface $aku1E) { $this->apiClient = $a1Czp; $this->orderRepository = $aku1E; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\x6e\117\x72\x64\145\x72\x50\x6c\x61\143\x65\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $VOUW4) { goto dMBUG; iz4Ru: $FykZ7 = $YivzE->getLineItems(); goto sP7zM; QKa3t: ZjssM: goto bnP_C; QMBzt: if (!($MNQQA > 0 || $d1A_4 > 0)) { goto RejdK; } goto qVVMF; yGROE: $d1A_4 = 0; goto KqK2p; n9dSh: throw new \Exception("\x53\x48\x49\122\124\x4e\x45\124\127\x4f\x52\113\x5f\x43\x41\x4e\x4e\117\124\x5f\x4f\x52\104\x45\x52"); goto tK_bu; jjVc6: $this->apiClient->manifestOrder($YivzE->getSalesChannelId(), $YivzE); goto Mx0_T; Mx0_T: goto C110E; goto QKa3t; dMBUG: $YivzE = $VOUW4->getOrder(); goto iz4Ru; bnP_C: $this->orderRepository->delete([["\151\144" => $YivzE->getId()]]); goto n9dSh; k15iP: RejdK: goto IdgBc; KqK2p: foreach ($FykZ7 as $S1l27) { goto pFpBM; CElmG: vtggn: goto yErJ0; iT2XY: $GGwXB = $S1l27->getPrice(); goto DDnmy; pFpBM: $c7v3_ = $S1l27->getPayload(); goto DO7nY; ISwDj: $MNQQA += $GGwXB->getQuantity(); goto KQF1i; B_hsb: goto uhMaZ; goto pBuEY; DO7nY: if (!isset($c7v3_["\163\150\151\162\164\x6e\145\164\167\x6f\x72\x6b"])) { goto u6EdF; } goto iT2XY; Khr4r: u6EdF: goto CElmG; pBuEY: nLHwj: goto ISwDj; bJlUu: $d1A_4 = $GGwXB->getUnitPrice() / 10 * $GGwXB->getQuantity(); goto B_hsb; KQF1i: uhMaZ: goto Khr4r; DDnmy: if ($GGwXB->getUnitPrice() >= 10) { goto nLHwj; } goto bJlUu; yErJ0: } goto V8Qw2; tK_bu: C110E: goto k15iP; GpHja: if (trim($VxIW1) != '' && trim($VxIW1) != "\117\x4b") { goto ZjssM; } goto jjVc6; qVVMF: $VxIW1 = $this->apiClient->bookCoins($YivzE->getSalesChannelId(), $MNQQA, $YivzE->getOrderNumber(), 0, $d1A_4); goto GpHja; sP7zM: $MNQQA = 0; goto yGROE; V8Qw2: FlHBY: goto QMBzt; IdgBc: } }