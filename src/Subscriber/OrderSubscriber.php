<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-06-19 11:29:51              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $Smkn8, EntityRepository $ivHln) { $this->apiClient = $Smkn8; $this->orderRepository = $ivHln; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\x6e\x4f\162\144\x65\x72\x50\154\141\x63\x65\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $YCfW4) { goto FesW8; phC08: PlFHZ: goto rOUeJ; ZExdO: f1xmB: goto phC08; NsPXC: if (trim($fq2rH) != '' && trim($fq2rH) != "\117\x4b") { goto mPckj; } goto IJwXa; It1nU: goto f1xmB; goto Tsq84; XbkVL: if (!($mjrhj > 0 || $ItfDQ > 0)) { goto PlFHZ; } goto UGn0p; sQoa_: $mjrhj = 0; goto G6vkT; Tsq84: mPckj: goto lrgrm; FesW8: $kCCmD = $YCfW4->getOrder(); goto MvYb_; lwR7o: Lhsdu: goto XbkVL; IJwXa: $this->apiClient->manifestOrder($kCCmD->getSalesChannelId(), $kCCmD); goto It1nU; lrgrm: $this->orderRepository->delete([["\151\x64" => $kCCmD->getId()]]); goto yzEY3; G6vkT: $ItfDQ = 0; goto p7HkU; p7HkU: foreach ($KGYSZ as $G5HlP) { goto xO8tK; rHDf8: CRIoi: goto b1YtV; E6UBB: OyYh7: goto xC_sK; ldM1T: $ASCm3 = $G5HlP->getPrice(); goto GN0p_; xO8tK: $BwMpY = $G5HlP->getPayload(); goto tU7uv; tU7uv: if (!isset($BwMpY["\x73\150\x69\x72\x74\x6e\x65\164\167\157\x72\153"])) { goto Lri0F; } goto ldM1T; xC_sK: $mjrhj += $ASCm3->getQuantity(); goto rHDf8; b1YtV: Lri0F: goto sFoaA; JHPuF: $ItfDQ = $ASCm3->getUnitPrice() / 10 * $ASCm3->getQuantity(); goto jUJ68; jUJ68: goto CRIoi; goto E6UBB; GN0p_: if ($ASCm3->getUnitPrice() >= 10) { goto OyYh7; } goto JHPuF; sFoaA: efzhA: goto oreVk; oreVk: } goto lwR7o; MvYb_: $KGYSZ = $kCCmD->getLineItems(); goto sQoa_; yzEY3: throw new \Exception("\123\x48\x49\x52\124\116\105\x54\127\x4f\x52\113\137\x43\x41\x4e\116\x4f\x54\x5f\x4f\x52\x44\105\x52"); goto ZExdO; UGn0p: $fq2rH = $this->apiClient->bookCoins($kCCmD->getSalesChannelId(), $mjrhj, $kCCmD->getOrderNumber(), 0, $ItfDQ); goto NsPXC; rOUeJ: } }