<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.15  |
    |              on 2025-03-10 10:03:28              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $iW3Iv, EntityRepository $Ee6mz) { $this->apiClient = $iW3Iv; $this->orderRepository = $Ee6mz; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\156\117\162\144\x65\x72\120\x6c\x61\143\145\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $FESSr) { goto tjpmB; ToYiG: BqzbA: goto nrUly; o_k_D: $KxD73 = 0; goto xyLIH; tjpmB: $r4I79 = $FESSr->getOrder(); goto DzgyL; MnC8r: $WDRsL = 0; goto o_k_D; JX54A: if (!($WDRsL > 0 || $KxD73 > 0)) { goto BqzbA; } goto PhhLx; L0bHU: goto kWsvG; goto U_Miw; lcpc3: throw new \Exception("\x53\x48\x49\x52\124\x4e\x45\124\x57\x4f\122\x4b\x5f\103\101\116\116\x4f\x54\x5f\x4f\x52\104\x45\x52"); goto ffvST; hkuxO: $this->orderRepository->delete([["\x69\144" => $r4I79->getId()]], $FESSr->getContext()); goto lcpc3; vNFjy: $this->apiClient->manifestOrder($r4I79->getSalesChannelId(), $r4I79); goto L0bHU; U_Miw: UY8Dv: goto hkuxO; ffvST: kWsvG: goto ToYiG; PhhLx: $fzr31 = $this->apiClient->bookCoins($r4I79->getSalesChannelId(), $WDRsL, $r4I79->getOrderNumber(), 0, $KxD73); goto q913M; DzgyL: $YVi1K = $r4I79->getLineItems(); goto MnC8r; eJyJW: HTX1O: goto JX54A; xyLIH: foreach ($YVi1K as $T_cWm) { goto T6mCr; T6mCr: $IQp1V = $T_cWm->getPayload(); goto Rl3UF; svGHI: yoHFv: goto D0LyZ; GinvC: Nl41u: goto YXX_l; F5rTL: $hdHpt = $T_cWm->getPrice(); goto R14XT; x7Tse: $KxD73 = $hdHpt->getUnitPrice() / 10 * $hdHpt->getQuantity(); goto fAr5q; YXX_l: $WDRsL += $hdHpt->getQuantity(); goto j1RQz; fAr5q: goto I50G0; goto GinvC; R14XT: if ($hdHpt->getUnitPrice() >= 10) { goto Nl41u; } goto x7Tse; Rl3UF: if (!isset($IQp1V["\x73\x68\x69\x72\164\x6e\145\164\x77\157\x72\x6b"])) { goto yoHFv; } goto F5rTL; j1RQz: I50G0: goto svGHI; D0LyZ: ZsK3l: goto yRPH1; yRPH1: } goto eJyJW; q913M: if (trim($fzr31) != '' && trim($fzr31) != "\117\x4b") { goto UY8Dv; } goto vNFjy; nrUly: } }