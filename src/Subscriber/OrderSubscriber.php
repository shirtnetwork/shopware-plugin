<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-03-06 14:38:03              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepositoryInterface; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $CqvG7, EntityRepositoryInterface $VYmtg) { $this->apiClient = $CqvG7; $this->orderRepository = $VYmtg; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\x6f\156\117\x72\x64\x65\x72\120\x6c\141\143\x65\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $NE1Xt) { goto X_AjD; mMzzp: YbSMu: goto xyGL5; G6YZy: $vcK_n = $this->apiClient->bookCoins($gWCiD->getSalesChannelId(), $wfx_4, $gWCiD->getOrderNumber(), 0, $IXLVZ); goto erWhU; a3c1r: $NsrmE = $gWCiD->getLineItems(); goto L_LeT; L_LeT: $wfx_4 = 0; goto FgpRs; f9ntN: if (!($wfx_4 > 0 || $IXLVZ > 0)) { goto uXFsB; } goto G6YZy; FgpRs: $IXLVZ = 0; goto gME2H; gME2H: foreach ($NsrmE as $uBrxv) { goto ghqHn; raYID: $IXLVZ = $EFlQA->getUnitPrice() / 10 * $EFlQA->getQuantity(); goto fdBOY; S1dwv: WZAp4: goto ZZCDN; QhmNJ: $EFlQA = $uBrxv->getPrice(); goto C9Rd_; ghqHn: $GVK7Q = $uBrxv->getPayload(); goto qJ3pw; WNytp: qqOZo: goto X01JY; bMbIB: MqREJ: goto XRUdg; XRUdg: LUAdE: goto S1dwv; C9Rd_: if ($EFlQA->getUnitPrice() >= 10) { goto qqOZo; } goto raYID; fdBOY: goto MqREJ; goto WNytp; qJ3pw: if (!isset($GVK7Q["\x73\150\151\x72\164\x6e\145\164\x77\x6f\x72\153"])) { goto LUAdE; } goto QhmNJ; X01JY: $wfx_4 += $EFlQA->getQuantity(); goto bMbIB; ZZCDN: } goto jOege; LngfJ: goto yxVrj; goto mMzzp; xyGL5: $this->orderRepository->delete([["\151\144" => $gWCiD->getId()]]); goto OMHu1; Zvs9Y: yxVrj: goto kTLSy; jOege: NB_q8: goto f9ntN; OMHu1: throw new \Exception("\123\110\111\x52\124\116\105\124\127\x4f\122\x4b\137\103\101\116\x4e\x4f\124\x5f\x4f\122\x44\105\122"); goto Zvs9Y; kTLSy: uXFsB: goto ELbf3; X_AjD: $gWCiD = $NE1Xt->getOrder(); goto a3c1r; erWhU: if (trim($vcK_n) != '' && trim($vcK_n) != "\117\113") { goto YbSMu; } goto dAt7Y; dAt7Y: $this->apiClient->manifestOrder($gWCiD->getSalesChannelId(), $gWCiD); goto LngfJ; ELbf3: } }