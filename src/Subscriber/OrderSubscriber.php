<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2023-01-25 10:37:51              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepositoryInterface; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $tP9Q8, EntityRepositoryInterface $mjb1z) { $this->apiClient = $tP9Q8; $this->orderRepository = $mjb1z; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\156\x4f\162\x64\145\162\x50\x6c\141\143\145\x64"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $SzmCB) { goto KTlCz; QH5ll: $W2ucY = $this->apiClient->bookCoins($Tzs8g->getSalesChannelId(), $gMjbh, $Tzs8g->getOrderNumber(), 0, $HpJt4); goto baJEt; jSatu: throw new \Exception("\x53\110\111\x52\124\116\105\124\x57\117\122\113\x5f\x43\x41\x4e\x4e\117\124\x5f\117\x52\x44\x45\122"); goto bAArL; bAArL: vRLVg: goto sxqCE; mfNYd: foreach ($YCfhe as $Or8KY) { goto qp2td; TLUHz: $HpJt4 = $OFJ_4->getUnitPrice() / 10 * $OFJ_4->getQuantity(); goto zYF_9; BAyjx: if ($OFJ_4->getUnitPrice() >= 10) { goto KLNPV; } goto TLUHz; WhWwI: ipNmj: goto GbH3u; P4MiX: jdM7I: goto WhWwI; u2mCk: $OFJ_4 = $Or8KY->getPrice(); goto BAyjx; zYF_9: goto jdM7I; goto TWwG0; GbH3u: kf0kA: goto xXHhI; rbOKA: $gMjbh += $OFJ_4->getQuantity(); goto P4MiX; qp2td: $WQ35v = $Or8KY->getPayload(); goto PsyYE; PsyYE: if (!isset($WQ35v["\x73\x68\151\162\164\x6e\x65\x74\167\157\162\153"])) { goto ipNmj; } goto u2mCk; TWwG0: KLNPV: goto rbOKA; xXHhI: } goto NF4Y7; rf0WU: $YCfhe = $Tzs8g->getLineItems(); goto CX57E; ZZZwc: goto vRLVg; goto w7tPY; sxqCE: XIzIu: goto GTVqQ; NF4Y7: DIKH1: goto t2iDG; gi5Nm: $this->orderRepository->delete([["\151\x64" => $Tzs8g->getId()]]); goto jSatu; t2iDG: if (!($gMjbh > 0 || $HpJt4 > 0)) { goto XIzIu; } goto QH5ll; baJEt: if (trim($W2ucY) != '' && trim($W2ucY) != "\x4f\x4b") { goto TZkXg; } goto VFlFt; VFlFt: $this->apiClient->manifestOrder($Tzs8g->getSalesChannelId(), $Tzs8g); goto ZZZwc; w7tPY: TZkXg: goto gi5Nm; NAgk6: $HpJt4 = 0; goto mfNYd; CX57E: $gMjbh = 0; goto NAgk6; KTlCz: $Tzs8g = $SzmCB->getOrder(); goto rf0WU; GTVqQ: } }