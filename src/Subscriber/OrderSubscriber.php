<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-01-22 15:04:50              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace Aggrosoft\Shopware\ShirtnetworkPlugin\Subscriber; use Aggrosoft\Shopware\ShirtnetworkPlugin\Core\Shirtnetwork\ApiClient; use Shopware\Core\Checkout\Cart\Event\CheckoutOrderPlacedEvent; use Shopware\Core\Checkout\Order\Aggregate\OrderLineItem\OrderLineItemEntity; use Shopware\Core\Checkout\Order\OrderEntity; use Shopware\Core\Checkout\Order\OrderEvents; use Shopware\Core\Framework\DataAbstractionLayer\EntityRepository; use Shopware\Core\Framework\DataAbstractionLayer\Event\EntityWrittenEvent; use Shopware\Core\Framework\DataAbstractionLayer\Search\Criteria; use Symfony\Component\EventDispatcher\EventSubscriberInterface; class OrderSubscriber implements EventSubscriberInterface { private $apiClient; private $orderRepository; public function __construct(ApiClient $mec6v, EntityRepository $weeCm) { $this->apiClient = $mec6v; $this->orderRepository = $weeCm; } public static function getSubscribedEvents() : array { return [CheckoutOrderPlacedEvent::class => "\157\156\117\x72\144\145\x72\120\x6c\x61\x63\145\144"]; } public function onOrderPlaced(CheckoutOrderPlacedEvent $jYqYA) { goto meNKC; MysCe: lgYlW: goto TwrFZ; QxY90: $kHfKa = $this->apiClient->bookCoins($tjIlC->getSalesChannelId(), $cy8JJ, $tjIlC->getOrderNumber(), 0, $utVEX); goto bsstA; igNIr: $utVEX = 0; goto q63Wj; X8gdx: e1ncL: goto MysCe; J4X0h: throw new \Exception("\123\110\111\x52\124\116\105\124\x57\x4f\122\x4b\137\103\101\116\116\117\x54\137\x4f\122\104\105\x52"); goto X8gdx; meNKC: $tjIlC = $jYqYA->getOrder(); goto BWCnt; q63Wj: foreach ($ZNZlD as $nO5En) { goto QZ3pk; i6JS8: goto Y1J8E; goto NbTIO; xMIr1: $ISwsy = $nO5En->getPrice(); goto kZ7Nk; NbTIO: nTeQt: goto VXpm2; TYt_8: Dar3F: goto inQ4i; zO4Q1: if (!isset($iT0M3["\163\x68\x69\x72\x74\156\145\x74\x77\157\x72\153"])) { goto baLhr; } goto xMIr1; VXpm2: $cy8JJ += $ISwsy->getQuantity(); goto C3GjT; C3GjT: Y1J8E: goto QoNcZ; f5Aqt: $utVEX = $ISwsy->getUnitPrice() / 10 * $ISwsy->getQuantity(); goto i6JS8; QZ3pk: $iT0M3 = $nO5En->getPayload(); goto zO4Q1; QoNcZ: baLhr: goto TYt_8; kZ7Nk: if ($ISwsy->getUnitPrice() >= 10) { goto nTeQt; } goto f5Aqt; inQ4i: } goto oIcBH; ZxTD6: rRsVL: goto JS5P3; QqMlD: if (!($cy8JJ > 0 || $utVEX > 0)) { goto lgYlW; } goto QxY90; BWCnt: $ZNZlD = $tjIlC->getLineItems(); goto ufyws; JS5P3: $this->orderRepository->delete([["\x69\144" => $tjIlC->getId()]]); goto J4X0h; ufyws: $cy8JJ = 0; goto igNIr; IoZvz: goto e1ncL; goto ZxTD6; skVAz: $this->apiClient->manifestOrder($tjIlC->getSalesChannelId(), $tjIlC); goto IoZvz; bsstA: if (trim($kHfKa) != '' && trim($kHfKa) != "\117\x4b") { goto rRsVL; } goto skVAz; oIcBH: KmBhk: goto QqMlD; TwrFZ: } }